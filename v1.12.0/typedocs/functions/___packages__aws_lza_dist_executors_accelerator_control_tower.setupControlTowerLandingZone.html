<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>setupControlTowerLandingZone | landing-zone-accelerator-on-aws - v1.12.0</title><meta name="description" content="Documentation for landing-zone-accelerator-on-aws"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">landing-zone-accelerator-on-aws - v1.12.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">landing-zone-accelerator-on-aws</a></li><li><a href="../modules/___packages__aws_lza_dist_executors_accelerator_control_tower.html">../packages/@aws-lza/dist/executors/accelerator-control-tower</a></li><li><a href="___packages__aws_lza_dist_executors_accelerator_control_tower.setupControlTowerLandingZone.html">setupControlTowerLandingZone</a></li></ul><h1>Function setupControlTowerLandingZone</h1></div><section class="tsd-panel"><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="setupControlTowerLandingZone" class="tsd-anchor"></a><span class="tsd-kind-call-signature">setup<wbr/>Control<wbr/>Tower<wbr/>Landing<wbr/>Zone</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">input</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#setupControlTowerLandingZone" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Function to setup Accelerator AWS Control Tower landing zone</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">input</span>: <a href="../interfaces/___packages__aws_lza_dist_interfaces_control_tower_setup_landing_zone.ISetupLandingZoneHandlerParameter.html" class="tsd-signature-type tsd-kind-interface">ISetupLandingZoneHandlerParameter</a></span><div class="tsd-comment tsd-typography"><p><a href="../interfaces/___packages__aws_lza_dist_interfaces_control_tower_setup_landing_zone.ISetupLandingZoneHandlerParameter.html" class="tsd-kind-interface">ISetupLandingZoneHandlerParameter</a></p>
<p>@pre-requisites
In order to deploy an AWS Control Tower landing zone, the following prerequisites must be fulfilled.</p>
<ul>
<li>AWS Organizations with all feature enabled</li>
<li>No AWS services enabled for AWS Organizations</li>
<li>No organization units in AWS Organizations</li>
<li>No additional accounts in AWS Organizations</li>
<li>No AWS IAM Identity Center configured</li>
<li>None of the AWS Control Tower service roles are preset</li>
</ul>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>status string</p>
<div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Description" class="tsd-anchor"></a>Description<a href="#Description" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Use this function to create, update or reset AWS Control Tower landing zone.</p>
<p>This function will perform the following pre-requisites before deploying AWS Control Tower Landing Zone</p>
<ul>
<li>Deploy AWS Control Tower service roles</li>
<li>Deploy AWS KMS CMK for AWS Control Tower resources</li>
<li>Create shared accounts (LogArchive and Audit)</li>
</ul>
<p>If there is an existing AWS Control Tower landing zone, this function can initiate an update or reset of the landing zone, in cases where the configuration has changed or the landing zone has drifted from the expected state.</p>
<h4 class="tsd-anchor-link"><a id="Example" class="tsd-anchor"></a>Example<a href="#Example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code><span class="hl-2">const</span><span class="hl-3"> </span><span class="hl-4">param</span><span class="hl-3">: </span><span class="hl-5">IControlTowerLandingZoneHandlerParameter</span><span class="hl-3"> = {</span><br/><span class="hl-3">  </span><span class="hl-6">partition:</span><span class="hl-3"> </span><span class="hl-1">&#39;aws&#39;</span><span class="hl-3">,</span><br/><span class="hl-3">  </span><span class="hl-6">region:</span><span class="hl-3"> </span><span class="hl-1">&#39;us-east-1&#39;</span><span class="hl-3">,</span><br/><span class="hl-3">  </span><span class="hl-6">configuration:</span><span class="hl-3"> {</span><br/><span class="hl-3">    </span><span class="hl-6">enable:</span><span class="hl-3"> </span><span class="hl-2">true</span><span class="hl-3">,</span><br/><span class="hl-3">    </span><span class="hl-6">version:</span><span class="hl-3"> </span><span class="hl-1">&#39;3.3&#39;</span><span class="hl-3">,</span><br/><span class="hl-3">    </span><span class="hl-6">enabledRegions:</span><span class="hl-3"> [</span><span class="hl-1">&#39;us-east-1&#39;</span><span class="hl-3">, </span><span class="hl-1">&#39;us-west-2&#39;</span><span class="hl-3">],</span><br/><span class="hl-3">    </span><span class="hl-6">logging:</span><span class="hl-3"> { </span><span class="hl-6">organizationTrail:</span><span class="hl-3"> </span><span class="hl-2">true</span><span class="hl-3">, </span><span class="hl-6">retention:</span><span class="hl-3"> { </span><span class="hl-6">loggingBucket:</span><span class="hl-3"> </span><span class="hl-9">3650</span><span class="hl-3">, </span><span class="hl-6">accessLoggingBucket:</span><span class="hl-3"> </span><span class="hl-9">365</span><span class="hl-3"> } },</span><br/><span class="hl-3">    </span><span class="hl-6">security:</span><span class="hl-3"> { </span><span class="hl-6">enableIdentityCenterAccess:</span><span class="hl-3"> </span><span class="hl-2">true</span><span class="hl-3"> },</span><br/><span class="hl-3">    </span><span class="hl-6">sharedAccounts:</span><span class="hl-3"> {</span><br/><span class="hl-3">      </span><span class="hl-6">management:</span><span class="hl-3"> { </span><span class="hl-6">name:</span><span class="hl-3"> </span><span class="hl-1">&#39;Management&#39;</span><span class="hl-3">, </span><span class="hl-6">email:</span><span class="hl-3"> </span><span class="hl-1">&#39;&lt;management-account&gt;@example.com&#39;</span><span class="hl-3"> },</span><br/><span class="hl-3">      </span><span class="hl-6">logging:</span><span class="hl-3"> { </span><span class="hl-6">name:</span><span class="hl-3"> </span><span class="hl-1">&#39;LogArchive&#39;</span><span class="hl-3">, </span><span class="hl-6">email:</span><span class="hl-3"> </span><span class="hl-1">&#39; &lt;log-archive&gt;@example.com&#39;</span><span class="hl-3">},</span><br/><span class="hl-3">      </span><span class="hl-6">audit:</span><span class="hl-3"> { </span><span class="hl-6">name:</span><span class="hl-3"> </span><span class="hl-1">&#39;Audit&#39;</span><span class="hl-3">, </span><span class="hl-6">email:</span><span class="hl-3"> </span><span class="hl-1">&#39;&lt;audit&gt;@example.com&#39;</span><span class="hl-3"> },</span><br/><span class="hl-3">    }</span><br/><span class="hl-3">  }</span><br/><span class="hl-3">}</span><br/><br/><span class="hl-2">const</span><span class="hl-3"> </span><span class="hl-4">status</span><span class="hl-3"> = </span><span class="hl-10">await</span><span class="hl-3"> </span><span class="hl-7">setupControlTowerLandingZone</span><span class="hl-3">(</span><span class="hl-6">param</span><span class="hl-3">);</span><br/>
</code><button>Copy</button></pre>

</div></li></ul></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>landing-zone-accelerator-on-aws - v1.12.0</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
