{
  "$ref": "#/definitions/IOrganizationConfig",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "IBackupPolicyConfig": {
      "additionalProperties": false,
      "description": "Organization backup policy\n\nBackup policies enable you to deploy organization-wide backup plans to help ensure compliance across your organization's accounts.\nUsing policies helps ensure consistency in how you implement your backup plans",
      "properties": {
        "deploymentTargets": {
          "$ref": "#/definitions/IDeploymentTargets",
          "description": "Backup policy deployment targets"
        },
        "description": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "A description to assign to the policy."
        },
        "name": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "The friendly name to assign to the policy. The regex pattern that is used to validate this parameter is a string of any of the characters in the ASCII character range."
        },
        "policy": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "Backup policy definition json file. This file must be present in config repository"
        }
      },
      "required": [
        "name",
        "description",
        "policy",
        "deploymentTargets"
      ],
      "type": "object"
    },
    "IChatbotPolicyConfig": {
      "additionalProperties": false,
      "description": "Chatbot policy.\n\nChatbot policies allow you to control access to an organization's accounts\nfrom chat applications such as Slack and Microsoft Teams.",
      "properties": {
        "deploymentTargets": {
          "$ref": "#/definitions/IDeploymentTargets",
          "description": "Chatbot policy deployment targets"
        },
        "description": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "A description to assign to the policy."
        },
        "name": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "The friendly name to assign to the policy. The regex pattern that is used to validate this parameter is a string of any of the characters in the ASCII character range."
        },
        "policy": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "Chatbot policy definition json file. This file must be present in config repository"
        }
      },
      "required": [
        "name",
        "description",
        "policy",
        "deploymentTargets"
      ],
      "type": "object"
    },
    "IDeclarativePolicyConfig": {
      "additionalProperties": false,
      "description": "Declarative policy configuration",
      "properties": {
        "deploymentTargets": {
          "$ref": "#/definitions/IDeploymentTargets",
          "description": "Declarative policy deployment targets"
        },
        "description": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "A description to assign to the policy."
        },
        "name": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "The friendly name to assign to the policy. The regex pattern that is used to validate this parameter is a string of any of the characters in the ASCII character range."
        },
        "policy": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "Declarative policy definition json file. This file must be present in config repository"
        }
      },
      "required": [
        "name",
        "description",
        "policy",
        "deploymentTargets"
      ],
      "type": "object"
    },
    "IDeploymentTargets": {
      "additionalProperties": false,
      "description": "Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with the License. A copy of the License is located at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nor in the 'license' file accompanying this file. This file is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the License for the specific language governing permissions and limitations under the License.",
      "properties": {
        "accounts": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "excludedAccounts": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "excludedRegions": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "organizationalUnits": {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "IOrganizationConfig": {
      "additionalProperties": false,
      "description": "Organization configuration",
      "properties": {
        "backupPolicies": {
          "description": "A Record of Backup Policy configurations",
          "items": {
            "$ref": "#/definitions/IBackupPolicyConfig"
          },
          "type": "array"
        },
        "chatbotPolicies": {
          "description": "A list of Chatbot Policy configurations",
          "items": {
            "$ref": "#/definitions/IChatbotPolicyConfig"
          },
          "type": "array"
        },
        "declarativePolicies": {
          "description": "A Record of Declarative Policy configurations",
          "items": {
            "$ref": "#/definitions/IDeclarativePolicyConfig"
          },
          "type": "array"
        },
        "enable": {
          "description": "Indicates whether AWS Organization enabled.",
          "type": "boolean"
        },
        "organizationalUnitIds": {
          "description": "Optionally provide a list of Organizational Unit IDs to bypass the usage of the AWS Organizations Client lookup. This is not a readonly member since we will initialize it with values if it is not provided",
          "items": {
            "$ref": "#/definitions/IOrganizationalUnitIdConfig"
          },
          "type": "array"
        },
        "organizationalUnits": {
          "description": "A Record of Organizational Unit configurations",
          "items": {
            "$ref": "#/definitions/IOrganizationalUnitConfig"
          },
          "type": "array"
        },
        "quarantineNewAccounts": {
          "$ref": "#/definitions/IQuarantineNewAccountsConfig",
          "description": "A record of Quarantine New Accounts configuration"
        },
        "resourceControlPolicies": {
          "description": "A Record of Resource Control Policy configurations",
          "items": {
            "$ref": "#/definitions/IResourceControlPolicyConfig"
          },
          "type": "array"
        },
        "serviceControlPolicies": {
          "description": "A Record of Service Control Policy configurations",
          "items": {
            "$ref": "#/definitions/IServiceControlPolicyConfig"
          },
          "type": "array"
        },
        "taggingPolicies": {
          "description": "A Record of Tagging Policy configurations",
          "items": {
            "$ref": "#/definitions/ITaggingPolicyConfig"
          },
          "type": "array"
        }
      },
      "required": [
        "enable",
        "organizationalUnits",
        "serviceControlPolicies",
        "taggingPolicies",
        "backupPolicies"
      ],
      "type": "object"
    },
    "IOrganizationalUnitConfig": {
      "additionalProperties": false,
      "description": "AWS Organizational Unit (OU) configuration",
      "properties": {
        "ignore": {
          "description": "Optional property used to ignore organizational unit and the associated accounts Default value is false",
          "type": "boolean"
        },
        "name": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "The name and nested path that you want to assign to the OU. When referring to OU's in the other configuration files ensure that the name matches what has been provided here. For example if you wanted an OU directly off of root just supply the OU name. Always configure all of the OUs in the path. A nested OU configuration would be like this\n- name: Sandbox\n- name: Sandbox/Pipeline\n- name: Sandbox/Development\n- name: Sandbox/Development/Application1"
        }
      },
      "required": [
        "name"
      ],
      "type": "object"
    },
    "IOrganizationalUnitIdConfig": {
      "additionalProperties": false,
      "description": "Organizational unit id configuration",
      "properties": {
        "arn": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "OU arn"
        },
        "id": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "OU id"
        },
        "name": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "A name for the OU"
        },
        "orgsApiResponse": {
          "anyOf": [
            {
              "$ref": "#/definitions/OrganizationalUnit"
            },
            {
              "$ref": "#/definitions/Root"
            }
          ],
          "description": "Orgs API response"
        }
      },
      "required": [
        "name",
        "id",
        "arn"
      ],
      "type": "object"
    },
    "IQuarantineNewAccountsConfig": {
      "additionalProperties": false,
      "description": "Quarantine SCP application configuration",
      "properties": {
        "enable": {
          "description": "Indicates where or not a Quarantine policy is applied when new accounts are created. If enabled all accounts created by any means will have the configured policy applied.",
          "type": "boolean"
        },
        "scpPolicyName": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "The policy to apply to new accounts. This value must exist if the feature is enabled. The name must also match a policy that is defined in the serviceControlPolicy section."
        }
      },
      "required": [
        "enable"
      ],
      "type": "object"
    },
    "IResourceControlPolicyConfig": {
      "additionalProperties": false,
      "description": "Resource control policy configuration",
      "properties": {
        "deploymentTargets": {
          "$ref": "#/definitions/IDeploymentTargets",
          "description": "Resource control policy deployment targets"
        },
        "description": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "A description to assign to the policy."
        },
        "name": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "The friendly name to assign to the policy. The regex pattern that is used to validate this parameter is a string of any of the characters in the ASCII character range."
        },
        "policy": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "Resource control policy definition json file. This file must be present in config repository"
        },
        "strategy": {
          "description": "Resource control policy strategy. https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_rcps_evaluation.html",
          "enum": [
            "deny-list",
            "allow-list"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "description",
        "policy",
        "deploymentTargets"
      ],
      "type": "object"
    },
    "IServiceControlPolicyConfig": {
      "additionalProperties": false,
      "description": "Service control policy configuration",
      "properties": {
        "deploymentTargets": {
          "$ref": "#/definitions/IDeploymentTargets",
          "description": "Service control policy strategy. https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps_strategies.html"
        },
        "description": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "A description to assign to the policy."
        },
        "name": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "The friendly name to assign to the policy. The regex pattern that is used to validate this parameter is a string of any of the characters in the ASCII character range."
        },
        "policy": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "Service control definition json file. This file must be present in config repository"
        },
        "strategy": {
          "description": "Service control policy deployment targets",
          "enum": [
            "deny-list",
            "allow-list"
          ],
          "type": "string"
        },
        "type": {
          "description": "Kind of service control policy",
          "enum": [
            "awsManaged",
            "customerManaged"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "description",
        "policy",
        "type",
        "deploymentTargets"
      ],
      "type": "object"
    },
    "ITaggingPolicyConfig": {
      "additionalProperties": false,
      "description": "Organizations tag policy.\n\nTag policies help you standardize tags on all tagged resources across your organization.\nYou can use tag policies to define tag keys (including how they should be capitalized) and their allowed values.",
      "properties": {
        "deploymentTargets": {
          "$ref": "#/definitions/IDeploymentTargets",
          "description": "Tagging policy deployment targets"
        },
        "description": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "A description to assign to the policy."
        },
        "name": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "The friendly name to assign to the policy. The regex pattern that is used to validate this parameter is a string of any of the characters in the ASCII character range."
        },
        "policy": {
          "$ref": "#/definitions/NonEmptyString",
          "description": "Tagging policy definition json file. This file must be present in config repository"
        }
      },
      "required": [
        "name",
        "description",
        "policy",
        "deploymentTargets"
      ],
      "type": "object"
    },
    "NonEmptyString": {
      "description": "A string that has at least 1 character",
      "minLength": 1,
      "type": "string"
    },
    "OrganizationalUnit": {
      "additionalProperties": false,
      "description": "<p>Contains details about an organizational unit (OU). An OU is a container of Amazon Web Services             accounts within a root of an organization. Policies that are attached to an OU apply to             all accounts contained in that OU and in any child OUs.</p>",
      "properties": {
        "Arn": {
          "description": "<p>The Amazon Resource Name (ARN) of this OU.</p>          <p>For more information about ARNs in Organizations, see <a href=\"https://docs.aws.amazon.com/service-authorization/latest/reference/list_awsorganizations.html#awsorganizations-resources-for-iam-policies\">ARN     Formats Supported by Organizations</a> in the <i>Amazon Web Services Service Authorization Reference</i>.</p>",
          "type": "string"
        },
        "Id": {
          "description": "<p>The unique identifier (ID) associated with this OU. The ID is unique to the organization only.</p>          <p>The <a href=\"http://wikipedia.org/wiki/regex\">regex pattern</a> for an organizational unit ID string requires     \"ou-\" followed by from 4 to 32 lowercase letters or digits (the ID of the root that contains the     OU). This string is followed by a second \"-\" dash and from 8 to 32 additional lowercase letters     or digits.</p>",
          "type": "string"
        },
        "Name": {
          "description": "<p>The friendly name of this OU.</p>          <p>The <a href=\"http://wikipedia.org/wiki/regex\">regex pattern</a>     that is used to validate this parameter is a string of any of the characters in the ASCII     character range.</p>",
          "type": "string"
        }
      },
      "type": "object"
    },
    "PolicyType": {
      "enum": [
        "AISERVICES_OPT_OUT_POLICY",
        "BACKUP_POLICY",
        "CHATBOT_POLICY",
        "DECLARATIVE_POLICY_EC2",
        "RESOURCE_CONTROL_POLICY",
        "SECURITYHUB_POLICY",
        "SERVICE_CONTROL_POLICY",
        "TAG_POLICY"
      ],
      "type": "string"
    },
    "PolicyTypeStatus": {
      "enum": [
        "ENABLED",
        "PENDING_DISABLE",
        "PENDING_ENABLE"
      ],
      "type": "string"
    },
    "PolicyTypeSummary": {
      "additionalProperties": false,
      "description": "<p>Contains information about a policy type and its status in the associated root.</p>",
      "properties": {
        "Status": {
          "$ref": "#/definitions/PolicyTypeStatus",
          "description": "<p>The status of the policy type as it relates to the associated root. To attach a policy             of the specified type to a root or to an OU or account in that root, it must be             available in the organization and enabled for that root.</p>"
        },
        "Type": {
          "$ref": "#/definitions/PolicyType",
          "description": "<p>The name of the policy type.</p>"
        }
      },
      "type": "object"
    },
    "Root": {
      "additionalProperties": false,
      "description": "<p>Contains details about a root. A root is a top-level parent node in the hierarchy of             an organization that can contain organizational units (OUs) and accounts.             The root contains every Amazon Web Services account in the             organization.</p>",
      "properties": {
        "Arn": {
          "description": "<p>The Amazon Resource Name (ARN) of the root.</p>          <p>For more information about ARNs in Organizations, see <a href=\"https://docs.aws.amazon.com/service-authorization/latest/reference/list_awsorganizations.html#awsorganizations-resources-for-iam-policies\">ARN     Formats Supported by Organizations</a> in the <i>Amazon Web Services Service Authorization Reference</i>.</p>",
          "type": "string"
        },
        "Id": {
          "description": "<p>The unique identifier (ID) for the root. The ID is unique to the organization only.</p>          <p>The <a href=\"http://wikipedia.org/wiki/regex\">regex pattern</a> for a root ID string requires \"r-\" followed by     from 4 to 32 lowercase letters or digits.</p>",
          "type": "string"
        },
        "Name": {
          "description": "<p>The friendly name of the root.</p>          <p>The <a href=\"http://wikipedia.org/wiki/regex\">regex pattern</a>     that is used to validate this parameter is a string of any of the characters in the ASCII     character range.</p>",
          "type": "string"
        },
        "PolicyTypes": {
          "description": "<p>The types of policies that are currently enabled for the root and therefore can be             attached to the root or to its OUs or accounts.</p>          <note>             <p>Even if a policy type is shown as available in the organization, you can                 separately enable and disable them at the root level by using <a>EnablePolicyType</a> and <a>DisablePolicyType</a>. Use <a>DescribeOrganization</a> to see the availability of the policy types in                 that organization.</p>          </note>",
          "items": {
            "$ref": "#/definitions/PolicyTypeSummary"
          },
          "type": "array"
        }
      },
      "type": "object"
    }
  }
}